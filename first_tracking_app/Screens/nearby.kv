#: import Airport database.Airport
#: import City database.City
Screen:
    name: 'nearby'
    parent_keys: {}
    parent_type: Airport
    parent_singular: self.parent_type.__name__
    parent_plural: self.parent_type.__tablename__
    child_type: City
    child_singular: self.child_type.__name__
    child_plural: self.child_type.__tablename__
    Header:
        title: f'{root.parent_singular} Created'
        BoxLayout:
            orientation: 'vertical'
            Label:
                text: f'You have successfully created a new {root.parent_singular}.'
            Label:
                text: f'Which {root.child_plural} will service this {root.parent_singular}?' if len(list.children) > 0 else f'There are no nearby {root.child_plural} in the database'
            ScrollView:
                size_hint_y: 2
                ListHolder:
                    id: list
            Label:
                text: '' if len(list.children) > 0 else 'Would you like to make one?'
            Button:
                id: create_airport
                size_hint_y: .25
                text: ('Add' if len(list.children) > 0 else 'Create') + ' ' + (root.child_plural if len(list.children) > 1 else root.child_singular)
                on_press:
                    app.create_popup(app.add_joined_clicked(app.session, root.parent_keys, root.parent_type, list.selected_elements, root.child_type, app.root))
